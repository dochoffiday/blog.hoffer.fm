<p>When working with rounded percentages, it's actually not that easy to make sure the percentages add up to 100%. Take the following example:</p>
<ul>
<li>40.5%</li>
<li>20.6%</li>
<li>38.9%</li>
</ul>
<p>If you use basic rounding, you'll get 41%, 21%, and 39%... which adds up to 101%!</p>
<p>So, what can we do?</p>
<h3 id="the-solution">The Solution</h3>
<p>The logic behind the solution is fairly straightforward and is just a spin-off of the <a href="https://en.wikipedia.org/wiki/Largest_remainder_method">largest remainder method</a>:</p>
<ol>
<li>Instead of rounding to the closest integer, round everything <em>down</em></li>
<li>Take the sum of those numbers, and subtract it from 100 to determine the difference</li>
<li>Re-allocate the difference by adding <em>1</em> to the numbers with the highest decimal</li>
</ol>
<p>Going back to our example:</p>
<ol>
<li>We round the numbers to 40, 20, and 38</li>
<li>We subtract the sum of those (98) from 100, which equals <strong>2</strong></li>
<li>We add <em>1</em> to the top <strong>2</strong> highest decimals, which gives us 40, 21, and 39... the sum of which equals 100!</li>
</ol>
<p>That was the <em>easy</em> part. The real trick is duplicating that in code. Thankfully, it's already been done! Read the next section for a class that automatically rounds these numbers, while still preserving their original order.</p>
<h3 id="the-code">The Code</h3>
<script src="https://gist.github.com/dochoffiday/333a22e937f7503cd770ed70a429df23.js"></script>
<p>To see the full gist, <a href="https://gist.github.com/dochoffiday/333a22e937f7503cd770ed70a429df23">click here</a>.</p>
